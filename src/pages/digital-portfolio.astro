---
import { getCollection } from 'astro:content';
const work = await getCollection('work');
const work_sorted = work.sort((a, b) => a.data.order - b.data.order)
import H1 from "../components/common/atom/H1.astro"
import H2 from "../components/common/atom/H2.astro"
import H3 from "../components/common/atom/H3.astro"
import H5 from "../components/common/atom/H5.astro"
import Button from "../components/common/Button.astro"
import ParagraphGaramond from "../components/common/atom/ParagraphGaramond.astro"
import Header from "../components/common/Header.jsx"
import Footer from "../components/Footer.astro"
import Head from "../components/common/Head.astro"
import SelectClients from '../components/common/SelectClients.astro';
---

<html lang="en">
	<Head 
        title="Media Buying, Strategy, Digital Marketing Experiences | Idea Rebel"
		description="Digital Marketing Agency - Idea Rebel - We work with brands - Media buying, Strategy, Marketing Campaigns in Toronto, Vancouver & Los Angeles"
		image="https://blupp.b-cdn.net/idearebel/Slurpee-7Eleven-Idea-Rebel.jpg?quality=80"
    />
	<body>
		<Header
			client:load
			title="Work"
			subtitle="We develop tomorrow's digital products for today's award-winning brands."
			cover="https://blupp.b-cdn.net/idearebel/Slurpee-7Eleven-Idea-Rebel.jpeg?quality=50"
		/>
		<section class="container mx-auto max-w-6xl p-4 md:p-20" id="content">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                {

					work_sorted.map( ( idea ) => {

                        return(
                            <a href={ "/work/" + idea.data.link }>
                                <div class="w-full h-96 bg-cover bg-center bg-zinc-200 p-4 xl:p-20 group relative">
                                    <div class="flex h-full items-center justify-center mx-auto">
                                        <div class="bg-white p-10 text-center opacity-100 md:opacity-0 duration-200 group-hover:opacity-100 z-20 gap-4 flex flex-col">
                                            <H3
                                                text={ idea.data.title }
                                            />
											<ParagraphGaramond
												text={ idea.data.sub_title }
											/>
                                        </div>
                                    </div>
                                    <img
                                        src={ idea.data.image }
                                        class="object-cover absolute top-0 left-0 z-10 w-full h-full"
                                        alt={ idea.data.title + "'s image" }
                                    />
                                </div>
                            </a>
                        )

                    })

                }
            </div>
        </section>
        <SelectClients />
        <Footer />
	</body>
</html>
